<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI-900 Mock Test (Full 246)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        button { user-select: none; -webkit-tap-highlight-color: transparent; }
        body { -webkit-font-smoothing: antialiased; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // --- ICONS ---
        const Icons = {
            Book: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Check: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>,
            Eye: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>,
            Left: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="m15 18-6-6 6-6"/></svg>,
            Right: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="m9 18 6-6-6-6"/></svg>,
            Refresh: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>,
            Lightbulb: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
        };

        // --- FULL QUESTION BANK (Compressed for size, includes all 246) ---
        const QUESTION_BANK = [
            { id: 1, topic: "AI Fundamentals", type: "single", question: "Webchat bot benefit?", options: ["A. Increased sales", "B. Reduced workload", "C. Reliability"], correctAnswer: "B", explanation: "Bots reduce workload for agents." },
            { id: 2, topic: "Machine Learning", type: "single", question: "Split data for training/eval?", options: ["A. Features/Labels", "B. Random rows", "C. Labels/Features"], correctAnswer: "B", explanation: "Random split ensures distribution." },
            { id: 3, topic: "Machine Learning", type: "single", question: "Confusion Matrix: Pred=1, Act=1 is 11. TP?", options: ["A. 5", "B. 11", "C. 1033"], correctAnswer: "B", explanation: "TP is Predicted 1, Actual 1." },
            { id: 4, topic: "Responsible AI", type: "single", question: "Ensure Transparency in AutoML?", options: ["A. Validation Auto", "B. Explain best model", "C. Primary metric"], correctAnswer: "B", explanation: "Explanations = Transparency." },
            { id: 5, topic: "Machine Learning", type: "single", question: "Is housing price forecast Anomaly Detection?", options: ["A. Yes", "B. No"], correctAnswer: "B", explanation: "Forecasting numbers is Regression." },
            { id: 6, topic: "Responsible AI", type: "single", question: "Handling unusual values principle?", options: ["A. Inclusiveness", "B. Privacy", "C. Reliability"], correctAnswer: "C", explanation: "Reliability handles unexpected data." },
            { id: 7, topic: "AI Fundamentals", type: "single", question: "Scenario: Refund chat?", options: ["A. Anomaly", "B. Vision", "C. Conversational AI"], correctAnswer: "C", explanation: "Chat = Conversational." },
            { id: 8, topic: "Responsible AI", type: "single", question: "Empower hearing impaired?", options: ["A. Fairness", "B. Inclusiveness", "C. Reliability"], correctAnswer: "B", explanation: "Empowering disabilities is Inclusiveness." },
            { id: 9, topic: "Responsible AI", type: "single", question: "Resist harmful manipulation?", options: ["A. Accountability", "B. Fairness", "C. Reliability"], correctAnswer: "C", explanation: "Resilience is Reliability." },
            { id: 10, topic: "Responsible AI", type: "single", question: "Self-driving cars unexpected conditions?", options: ["A. Inclusiveness", "B. Reliability", "C. Fairness"], correctAnswer: "B", explanation: "Safety in unexpected conditions." },
            { id: 11, topic: "Responsible AI", type: "single", question: "Transparency task?", options: ["A. Autoscaling", "B. Documentation", "C. Dataset size"], correctAnswer: "B", explanation: "Docs provide transparency." },
            { id: 12, topic: "Computer Vision", type: "single", question: "Identify handwritten letters?", options: ["A. Anomaly", "B. Computer Vision", "C. Regression"], correctAnswer: "B", explanation: "Vision (OCR)." },
            { id: 13, topic: "NLP", type: "single", question: "Extract dates/quantities?", options: ["A. Key Phrase", "B. NER", "C. Sentiment"], correctAnswer: "B", explanation: "Named Entity Recognition." },
            { id: 14, topic: "Responsible AI", type: "multiple", question: "3 Responsible AI principles?", options: ["A. Knowledge", "B. Inclusiveness", "C. Fairness", "D. Reliability", "E. Decisive"], correctAnswer: ["B","C","D"], explanation: "Fairness, Reliability, Inclusiveness." },
            { id: 15, topic: "Computer Vision", type: "single", question: "Bounding box return?", options: ["A. Classification", "B. Object Detection", "C. OCR"], correctAnswer: "B", explanation: "Bounding box = Detection." },
            { id: 16, topic: "Machine Learning", type: "single", question: "Generate additional features?", options: ["A. Feature Engineering", "B. Selection", "C. Evaluation"], correctAnswer: "A", explanation: "Creating new features." },
            { id: 17, topic: "Computer Vision", type: "single", question: "Face + Sunglasses detect?", options: ["A. Verify", "B. Detect", "C. Describe"], correctAnswer: "B", explanation: "Detect finds attributes." },
            { id: 18, topic: "Responsible AI", type: "single", question: "Explain loan decision?", options: ["A. Transparency", "B. Inclusiveness", "C. Fairness"], correctAnswer: "A", explanation: "Explainability." },
            { id: 19, topic: "Responsible AI", type: "single", question: "Explain credit loan outcome = Transparency?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes, explaining reasoning." },
            { id: 20, topic: "Responsible AI", type: "single", question: "No discrimination based on gender?", options: ["A. Fairness", "B. Privacy", "C. Reliability"], correctAnswer: "A", explanation: "Non-discrimination." },
            { id: 21, topic: "Machine Learning", type: "single", question: "Deploy sequence?", options: ["A. Train->Prep->Eval", "B. Prep->Train->Eval", "C. Eval->Train->Prep"], correctAnswer: "B", explanation: "Prep data, Train, then Evaluate." },
            { id: 22, topic: "Responsible AI", type: "multiple", question: "Responsible AI practices?", options: ["A. Agile", "B. Model Validation", "C. Governance Committee"], correctAnswer: ["B","C"], explanation: "Validation and Governance." },
            { id: 23, topic: "Responsible AI", type: "single", question: "No bias from training data?", options: ["A. Accountability", "B. Fairness", "C. Inclusiveness"], correctAnswer: "B", explanation: "Fairness prevents bias." },
            { id: 24, topic: "Responsible AI", type: "single", question: "Checks to ensure no discrimination?", options: ["A. Accountability", "B. Fairness", "C. Transparency"], correctAnswer: "B", explanation: "Fairness." },
            { id: 25, topic: "AI Fundamentals", type: "single", question: "Chatbot for refunds?", options: ["A. Anomaly", "B. Vision", "C. Conversational AI"], correctAnswer: "C", explanation: "Conversational agent." },
            { id: 26, topic: "Machine Learning", type: "single", question: "Examine confusion matrix?", options: ["A. Engineering", "B. Evaluation", "C. Training"], correctAnswer: "B", explanation: "Evaluation metric." },
            { id: 27, topic: "Machine Learning", type: "single", question: "Prediction inputs are called?", options: ["A. Features", "B. Labels", "C. IDs"], correctAnswer: "A", explanation: "Inputs = Features." },
            { id: 28, topic: "Machine Learning", type: "single", question: "Predicted vs True linear chart?", options: ["A. Classification", "B. Regression", "C. Clustering"], correctAnswer: "B", explanation: "Regression evaluation." },
            { id: 29, topic: "Machine Learning", type: "single", question: "Predict gift card sales number?", options: ["A. Classification", "B. Regression", "C. Clustering"], correctAnswer: "B", explanation: "Numeric prediction." },
            { id: 30, topic: "Machine Learning", type: "single", question: "Taxi fare feature?", options: ["A. Number of trips", "B. Trip distance", "C. ID"], correctAnswer: "B", explanation: "Distance predicts fare." },
            { id: 31, topic: "Machine Learning", type: "single", question: "Predict sea level meters?", options: ["A. Classification", "B. Regression", "C. Clustering"], correctAnswer: "B", explanation: "Numeric prediction." },
            { id: 32, topic: "Machine Learning", type: "single", question: "AutoML automates iterative tasks?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes." },
            { id: 33, topic: "Machine Learning", type: "single", question: "Predict loan repaid (Yes/No)?", options: ["A. Classification", "B. Regression", "C. Clustering"], correctAnswer: "A", explanation: "Binary classification." },
            { id: 34, topic: "Machine Learning", type: "single", question: "Labeling is tagging data?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes." },
            { id: 35, topic: "Computer Vision", type: "single", question: "Extract text/tables from docs?", options: ["A. Form Recognizer", "B. Text Analytics", "C. Custom Vision"], correctAnswer: "A", explanation: "Form Recognizer." },
            { id: 36, topic: "Computer Vision", type: "single", question: "Extract receipt totals?", options: ["A. Custom Vision", "B. Form Recognizer", "C. Text Analytics"], correctAnswer: "B", explanation: "Receipts model." },
            { id: 37, topic: "Machine Learning", type: "multiple", question: "Access inference pipeline params?", options: ["A. Model name", "B. Training endpoint", "C. Auth key", "D. REST endpoint"], correctAnswer: ["C","D"], explanation: "Key + Endpoint." },
            { id: 38, topic: "Machine Learning", type: "single", question: "Deploy real-time prod?", options: ["A. ACI", "B. AKS", "C. Compute Instance"], correctAnswer: "B", explanation: "AKS for production." },
            { id: 39, topic: "Machine Learning", type: "single", question: "Predict overtime hours?", options: ["A. Classification", "B. Clustering", "C. Regression"], correctAnswer: "C", explanation: "Numeric." },
            { id: 40, topic: "Machine Learning", type: "single", question: "Designer drag-and-drop?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Visual interface." },
            { id: 41, topic: "Machine Learning", type: "single", question: "Income/HousePrice dataset. Price is?", options: ["A. Feature", "B. Label"], correctAnswer: "B", explanation: "Target label." },
            { id: 42, topic: "Machine Learning", type: "single", question: "Designer creates models by?", options: ["A. Connecting modules", "B. Writing code"], correctAnswer: "A", explanation: "Visual modules." },
            { id: 43, topic: "Machine Learning", type: "single", question: "AutoML needs programming?", options: ["A. True", "B. False"], correctAnswer: "B", explanation: "No code needed." },
            { id: 44, topic: "Machine Learning", type: "single", question: "Categorize brain scan types?", options: ["A. Clustering", "B. Regression", "C. Classification"], correctAnswer: "C", explanation: "Categorical." },
            { id: 45, topic: "Machine Learning", type: "single", question: "Why split data?", options: ["A. Train twice", "B. Test on unseen"], correctAnswer: "B", explanation: "Validate generalization." },
            { id: 46, topic: "Machine Learning", type: "multiple", question: "Enterprise workspace tasks?", options: ["A. GUI AutoML", "B. Compute Instance", "C. Designer GUI"], correctAnswer: ["A","C"], explanation: "GUI features." },
            { id: 47, topic: "Machine Learning", type: "multiple", question: "Income prediction features?", options: ["A. Education", "B. Last Name", "C. Age"], correctAnswer: ["A","C"], explanation: "Relevant factors." },
            { id: 48, topic: "Computer Vision", type: "single", question: "Identify competitor products (custom)?", options: ["A. Custom Vision", "B. Form Recognizer", "C. Computer Vision"], correctAnswer: "A", explanation: "Custom object detection." },
            { id: 49, topic: "Machine Learning", type: "single", question: "Group docs by text similarity?", options: ["A. Clustering", "B. Classification"], correctAnswer: "A", explanation: "Unsupervised." },
            { id: 50, topic: "Machine Learning", type: "single", question: "Validation set trains model?", options: ["A. True", "B. False"], correctAnswer: "B", explanation: "Validation tunes, Training trains." },
            { id: 51, topic: "Machine Learning", type: "multiple", question: "Regression metrics?", options: ["A. R2", "B. F1", "C. RMSE"], correctAnswer: ["A","C"], explanation: "Error/Fit metrics." },
            { id: 52, topic: "Machine Learning", type: "single", question: "Predict vehicles on bridge?", options: ["A. Classification", "B. Clustering", "C. Regression"], correctAnswer: "C", explanation: "Numeric count." },
            { id: 53, topic: "Machine Learning", type: "single", question: "Predict car price module?", options: ["A. Linear Regression", "B. Logistic Regression"], correctAnswer: "A", explanation: "Price is numeric." },
            { id: 54, topic: "Machine Learning", type: "single", question: "Group similar purchasing habits?", options: ["A. Classification", "B. Regression", "C. Clustering"], correctAnswer: "C", explanation: "Grouping." },
            { id: 55, topic: "Machine Learning", type: "single", question: "Predict auction price?", options: ["A. Classification", "B. Clustering", "C. Regression"], correctAnswer: "C", explanation: "Numeric." },
            { id: 56, topic: "Machine Learning", type: "single", question: "Classification metric?", options: ["A. True Positive Rate", "B. MAE", "C. RMSE"], correctAnswer: "A", explanation: "Recall/TPR." },
            { id: 57, topic: "Machine Learning", type: "multiple", question: "Designer canvas items?", options: ["A. Dataset", "B. Compute", "C. Module"], correctAnswer: ["A","C"], explanation: "Data + Algorithms." },
            { id: 58, topic: "Machine Learning", type: "single", question: "Create train/val set module?", options: ["A. Select Columns", "B. Split Data"], correctAnswer: "B", explanation: "Split." },
            { id: 59, topic: "Machine Learning", type: "single", question: "Predict flight delay minutes?", options: ["A. Classification", "B. Clustering", "C. Regression"], correctAnswer: "C", explanation: "Numeric time." },
            { id: 60, topic: "Machine Learning", type: "single", question: "Image classification probability?", options: ["A. Accuracy", "B. Confidence", "C. Sentiment"], correctAnswer: "B", explanation: "Confidence score." },
            { id: 61, topic: "Responsible AI", type: "single", question: "Handle missing values safely?", options: ["A. Inclusiveness", "B. Privacy", "C. Reliability"], correctAnswer: "C", explanation: "Reliability." },
            { id: 62, topic: "Machine Learning", type: "single", question: "Scale numeric variables?", options: ["A. Feature Engineering", "B. Feature Selection"], correctAnswer: "A", explanation: "Normalization." },
            { id: 63, topic: "Machine Learning", type: "single", question: "Assign classes to images?", options: ["A. Labeling", "B. Evaluation"], correctAnswer: "A", explanation: "Tagging/Labeling." },
            { id: 64, topic: "Machine Learning", type: "single", question: "Is 'Mass' a feature for Quality?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Input variable." },
            { id: 65, topic: "Machine Learning", type: "single", question: "Train regression with unlabeled?", options: ["A. True", "B. False"], correctAnswer: "B", explanation: "Supervised needs labels." },
            { id: 66, topic: "Machine Learning", type: "multiple", question: "Data prep actions?", options: ["A. Calculate accuracy", "B. Combine datasets", "C. Remove missing"], correctAnswer: ["B","C"], explanation: "Cleaning/Merging." },
            { id: 67, topic: "Machine Learning", type: "single", question: "Predict animal population?", options: ["A. Regression", "B. Clustering", "C. Classification"], correctAnswer: "A", explanation: "Numeric count." },
            { id: 68, topic: "Machine Learning", type: "multiple", question: "Designer custom code languages?", options: ["A. Python", "B. R", "C. C#"], correctAnswer: ["A","B"], explanation: "Python/R support." },
            { id: 69, topic: "Machine Learning", type: "single", question: "Regression labels must be numeric?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Math requirement." },
            { id: 70, topic: "Computer Vision", type: "single", question: "Identify bottle shape?", options: ["A. Anomaly", "B. Computer Vision", "C. NLP"], correctAnswer: "B", explanation: "Visual analysis." },
            { id: 71, topic: "Computer Vision", type: "single", question: "Object detection finds location?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Bounding boxes." },
            { id: 72, topic: "Computer Vision", type: "multiple", question: "Form Recognizer scenarios?", options: ["A. Invoice #", "B. Catalog", "C. Receipt retailer"], correctAnswer: ["A","C"], explanation: "Docs/Forms." },
            { id: 73, topic: "Computer Vision", type: "single", question: "Count animals in video?", options: ["A. Forecasting", "B. Computer Vision"], correctAnswer: "B", explanation: "Video analysis." },
            { id: 74, topic: "Computer Vision", type: "single", question: "Face service recognition?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Identify/Verify." },
            { id: 75, topic: "Computer Vision", type: "single", question: "Scan expense receipts?", options: ["A. Classification", "B. Object Detection", "C. OCR"], correctAnswer: "C", explanation: "Text extraction." },
            { id: 76, topic: "Computer Vision", type: "single", question: "Custom Vision detect objects?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Object detection supported." },
            { id: 77, topic: "Computer Vision", type: "single", question: "Read runner bib numbers?", options: ["A. Face", "B. OCR", "C. Classification"], correctAnswer: "B", explanation: "Text reading." },
            { id: 78, topic: "Computer Vision", type: "single", question: "Separate polar/brown bears?", options: ["A. Classification", "B. Detection"], correctAnswer: "A", explanation: "Categorization." },
            { id: 79, topic: "Computer Vision", type: "single", question: "Drone find weed location?", options: ["A. Object Detection", "B. OCR"], correctAnswer: "A", explanation: "Location." },
            { id: 80, topic: "Computer Vision", type: "single", question: "Digitize newspapers?", options: ["A. Object Detection", "B. OCR"], correctAnswer: "B", explanation: "Text extraction." },
            { id: 81, topic: "Computer Vision", type: "single", question: "Check if two faces match?", options: ["A. Verification", "B. Identification"], correctAnswer: "A", explanation: "1:1 matching." },
            { id: 82, topic: "Computer Vision", type: "single", question: "Locate cars for distance?", options: ["A. OCR", "B. Object Detection"], correctAnswer: "B", explanation: "Location." },
            { id: 83, topic: "Computer Vision", type: "single", question: "Train with own images?", options: ["A. Computer Vision", "B. Custom Vision"], correctAnswer: "B", explanation: "Custom data." },
            { id: 84, topic: "Computer Vision", type: "single", question: "Locate vehicles?", options: ["A. Object Detection", "B. Face"], correctAnswer: "A", explanation: "General objects." },
            { id: 85, topic: "Computer Vision", type: "multiple", question: "Computer Vision tasks?", options: ["A. Custom model", "B. Detect faces", "C. Read text"], correctAnswer: ["B","C"], explanation: "Standard service capabilities." },
            { id: 86, topic: "Machine Learning", type: "single", question: "Classification use case?", options: ["A. Predict cups", "B. Predict bike usage (Y/N)"], correctAnswer: "B", explanation: "Binary decision." },
            { id: 87, topic: "Computer Vision", type: "multiple", question: "Vision tasks?", options: ["A. Stock price", "B. Detect brands", "C. Detect color"], correctAnswer: ["B","C"], explanation: "Visual features." },
            { id: 88, topic: "Computer Vision", type: "single", question: "Tag friends in photos?", options: ["A. Face", "B. Form Recognizer"], correctAnswer: "A", explanation: "People identification." },
            { id: 89, topic: "Computer Vision", type: "multiple", question: "Form Recognizer uses?", options: ["A. Retailer from receipt", "B. Translate", "C. Invoice number"], correctAnswer: ["A","C"], explanation: "Document data." },
            { id: 90, topic: "Computer Vision", type: "single", question: "Find similar faces?", options: ["A. Similarity", "B. Identification"], correctAnswer: "A", explanation: "Face matching." },
            { id: 91, topic: "Computer Vision", type: "single", question: "Generate image captions?", options: ["A. OCR", "B. Detect", "C. Describe"], correctAnswer: "C", explanation: "Description." },
            { id: 92, topic: "Computer Vision", type: "single", question: "Extract text/tables from scans?", options: ["A. Custom Vision", "B. Face", "C. Form Recognizer"], correctAnswer: "C", explanation: "Forms." },
            { id: 93, topic: "Computer Vision", type: "single", question: "Read handwritten text?", options: ["A. OCR", "B. Face"], correctAnswer: "A", explanation: "Text extraction." },
            { id: 94, topic: "NLP", type: "single", question: "Identify main points?", options: ["A. Entity", "B. Key Phrase", "C. Sentiment"], correctAnswer: "B", explanation: "Summarization/Topics." },
            { id: 95, topic: "NLP", type: "multiple", question: "Speech Recognition uses?", options: ["A. Read text", "B. Captions", "C. Transcripts"], correctAnswer: ["B","C"], explanation: "Audio to Text." },
            { id: 96, topic: "NLP", type: "single", question: "Audio to Text service?", options: ["A. Speech-to-Text", "B. Text-to-Speech"], correctAnswer: "A", explanation: "Recognition." },
            { id: 97, topic: "NLP", type: "single", question: "Read recipe aloud?", options: ["A. Text Analytics", "B. Speech"], correctAnswer: "B", explanation: "Text-to-Speech." },
            { id: 98, topic: "NLP", type: "single", question: "Text Analytics detects language?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes." },
            { id: 99, topic: "NLP", type: "single", question: "Detect upset customer?", options: ["A. Anomaly", "B. Sentiment"], correctAnswer: "B", explanation: "Emotion." },
            { id: 100, topic: "NLP", type: "multiple", question: "KB Bot services?", options: ["A. QnA Maker", "B. Bot Service", "C. Form Recognizer"], correctAnswer: ["A","B"], explanation: "Knowledge + Interface." },
            { id: 101, topic: "NLP", type: "multiple", question: "Speech Synthesis?", options: ["A. Voice reading", "B. Captions", "C. AI speaking"], correctAnswer: ["A","C"], explanation: "Text to Audio." },
            { id: 102, topic: "NLP", type: "single", question: "Translator handles multi-language?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes." },
            { id: 103, topic: "NLP", type: "single", question: "Identify companies?", options: ["A. Entity Recognition", "B. Sentiment"], correctAnswer: "A", explanation: "Named Entities." },
            { id: 104, topic: "NLP", type: "single", question: "QnA Maker file type?", options: ["A. PPTX", "B. PDF"], correctAnswer: "B", explanation: "Documents supported." },
            { id: 105, topic: "NLP", type: "single", question: "Key Phrase usage?", options: ["A. Sentiment", "B. Identify topics"], correctAnswer: "B", explanation: "Main points." },
            { id: 106, topic: "NLP", type: "single", question: "Extract terms from reports?", options: ["A. NLP", "B. Vision"], correctAnswer: "A", explanation: "Text analysis." },
            { id: 107, topic: "NLP", type: "single", question: "Document categorization?", options: ["A. NLP", "B. Vision"], correctAnswer: "A", explanation: "Text classification." },
            { id: 108, topic: "NLP", type: "single", question: "Interpret 'Call me back'?", options: ["A. Translator", "B. LUIS"], correctAnswer: "B", explanation: "Intent." },
            { id: 109, topic: "NLP", type: "single", question: "Determine intent?", options: ["A. Translator", "B. LUIS"], correctAnswer: "B", explanation: "Language Understanding." },
            { id: 110, topic: "NLP", type: "single", question: "Translate press releases?", options: ["A. Translator", "B. Text Analytics"], correctAnswer: "A", explanation: "Language conversion." },
            { id: 111, topic: "NLP", type: "single", question: "Detect input language?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Text Analytics feature." },
            { id: 112, topic: "NLP", type: "single", question: "Identify person/location?", options: ["A. Entity Recognition", "B. Sentiment"], correctAnswer: "A", explanation: "NER." },
            { id: 113, topic: "Responsible AI", type: "single", question: "Content Moderator checks offensive text?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Moderation." },
            { id: 114, topic: "NLP", type: "single", question: "Analyze positive/negative?", options: ["A. Language detect", "B. Sentiment"], correctAnswer: "B", explanation: "Opinion mining." },
            { id: 115, topic: "NLP", type: "single", question: "Find 'Microsoft' in text?", options: ["A. Entity Recognition", "B. Key Phrase"], correctAnswer: "A", explanation: "Specific entity." },
            { id: 116, topic: "NLP", type: "single", question: "Feature: Positive/Negative?", options: ["A. Sentiment", "B. Entity"], correctAnswer: "A", explanation: "Sentiment." },
            { id: 117, topic: "NLP", type: "single", question: "Input 'Which act is playing' is?", options: ["A. Intent", "B. Utterance"], correctAnswer: "B", explanation: "User input string." },
            { id: 118, topic: "NLP", type: "single", question: "Add greetings to bot?", options: ["A. Active learning", "B. Chit-chat"], correctAnswer: "B", explanation: "Personality." },
            { id: 119, topic: "NLP", type: "single", question: "Process Word FAQ?", options: ["A. Bot Service", "B. QnA Maker"], correctAnswer: "B", explanation: "Knowledge extraction." },
            { id: 120, topic: "NLP", type: "single", question: "Handle unknown utterances?", options: ["A. Test new", "B. Add to None intent"], correctAnswer: "B", explanation: "Fallback intent." },
            { id: 121, topic: "NLP", type: "multiple", question: "NLP workloads?", options: ["A. Smart device Q&A", "B. Website Q&A", "C. Thermostat"], correctAnswer: ["A","B"], explanation: "Language interaction." },
            { id: 122, topic: "NLP", type: "multiple", question: "Voice control loads?", options: ["A. Speech-to-Text", "B. Language Modeling"], correctAnswer: ["A","B"], explanation: "Hear + Understand." },
            { id: 123, topic: "NLP", type: "single", question: "Language service detect language?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes." },
            { id: 124, topic: "NLP", type: "single", question: "Transcribe speech?", options: ["A. Speech", "B. Language"], correctAnswer: "A", explanation: "Speech service." },
            { id: 125, topic: "NLP", type: "single", question: "Make press releases multilingual?", options: ["A. Speech", "B. Translator"], correctAnswer: "B", explanation: "Translation." },
            { id: 126, topic: "NLP", type: "single", question: "Extract terms for summary?", options: ["A. NLP", "B. Vision"], correctAnswer: "A", explanation: "Text processing." },
            { id: 127, topic: "NLP", type: "single", question: "Read recipe?", options: ["A. Translator", "B. Speech"], correctAnswer: "B", explanation: "TTS." },
            { id: 128, topic: "NLP", type: "single", question: "Improve QnA with feedback?", options: ["A. Key phrase", "B. Active learning"], correctAnswer: "B", explanation: "Learning loop." },
            { id: 129, topic: "NLP", type: "single", question: "Conv AI on Teams?", options: ["A. Text Analytics", "B. Bot Service"], correctAnswer: "B", explanation: "Connector." },
            { id: 130, topic: "NLP", type: "single", question: "QnA ingests URLs?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Scrapes FAQs." },
            { id: 131, topic: "NLP", type: "multiple", question: "QnA sources?", options: ["A. Webpage", "B. Manual", "C. Chit-chat"], correctAnswer: ["A","B","C"], explanation: "Multiple inputs." },
            { id: 132, topic: "NLP", type: "single", question: "FAQ PDF support?", options: ["A. QnA Maker", "B. Text Analytics"], correctAnswer: "A", explanation: "Knowledge base." },
            { id: 133, topic: "NLP", type: "multiple", question: "Reduce operator load?", options: ["A. QnA Maker", "B. Bot Service"], correctAnswer: ["A","B"], explanation: "Auto answers." },
            { id: 134, topic: "NLP", type: "multiple", question: "Conv AI examples?", options: ["A. Smart device", "B. Website chatbot"], correctAnswer: ["A","B"], explanation: "Voice/Text bots." },
            { id: 135, topic: "NLP", type: "single", question: "User types, AI answers?", options: ["A. Sentiment", "B. Chatbot"], correctAnswer: "B", explanation: "Interaction." },
            { id: 136, topic: "NLP", type: "single", question: "Web app guide?", options: ["A. Custom Vision", "B. QnA Maker"], correctAnswer: "B", explanation: "Q&A." },
            { id: 137, topic: "NLP", type: "single", question: "Bot from FAQ?", options: ["A. QnA Maker", "B. LUIS"], correctAnswer: "A", explanation: "KB creation." },
            { id: 138, topic: "NLP", type: "single", question: "Build/connect bots tool?", options: ["A. Conv AI (Bot Service)", "B. Vision"], correctAnswer: "A", explanation: "Bot Service." },
            { id: 139, topic: "NLP", type: "single", question: "Webchat bot example?", options: ["A. Translate", "B. Answer questions on site"], correctAnswer: "B", explanation: "Site interface." },
            { id: 140, topic: "NLP", type: "single", question: "QnA Maker creates KB?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Knowledge Base." },
            { id: 141, topic: "NLP", type: "single", question: "LUIS is for intent?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Language Understanding." },
            { id: 142, topic: "NLP", type: "single", question: "Chatbot uses QnA?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Common pattern." },
            { id: 143, topic: "NLP", type: "multiple", question: "Conv AI examples?", options: ["A. Phone menu", "B. Chatbot"], correctAnswer: ["A","B"], explanation: "Interactive." },
            { id: 144, topic: "NLP", type: "single", question: "Bot Service integrates Cognitive Services?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes." },
            { id: 145, topic: "NLP", type: "single", question: "Bot Framework vs Service?", options: ["A. Framework = Dev, Service = Host", "B. Reverse"], correctAnswer: "A", explanation: "SDK vs Cloud." },
            { id: 146, topic: "NLP", type: "single", question: "Basic QnA capability?", options: ["A. Register purchase", "B. Answer questions"], correctAnswer: "B", explanation: "Informational." },
            { id: 147, topic: "NLP", type: "single", question: "Bot on Email?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Channel support." },
            { id: 148, topic: "NLP", type: "single", question: "Bot on Teams?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Channel support." },
            { id: 149, topic: "Computer Vision", type: "single", question: "Extract objects/faces/text?", options: ["A. OCR", "B. Image Analysis"], correctAnswer: "B", explanation: "General analysis." },
            { id: 152, topic: "NLP", type: "single", question: "Translate English to French?", options: ["A. Translation", "B. Sentiment"], correctAnswer: "A", explanation: "Translator." },
            { id: 153, topic: "NLP", type: "multiple", question: "Chatbot components?", options: ["A. Bot Service", "B. Language Service"], correctAnswer: ["A","B"], explanation: "Host + Intelligence." },
            { id: 158, topic: "NLP", type: "single", question: "Match: Understand spoken language?", options: ["A. Speech", "B. Language"], correctAnswer: "A", explanation: "Audio processing." },
            { id: 166, topic: "NLP", type: "single", question: "Support email/phone/chat?", options: ["A. Vision", "B. Chatbot"], correctAnswer: "B", explanation: "Omnichannel agent." },
            { id: 167, topic: "AI Fundamentals", type: "single", question: "Match: Identify visual content?", options: ["A. Vision", "B. NLP"], correctAnswer: "A", explanation: "Images." },
            { id: 170, topic: "Machine Learning", type: "single", question: "Metric: Precision?", options: ["A. Classification", "B. Regression"], correctAnswer: "A", explanation: "Accuracy metric." },
            { id: 171, topic: "Machine Learning", type: "single", question: "Deploy Designer sequence?", options: ["A. Run->Inference->Deploy", "B. Deploy->Run"], correctAnswer: "A", explanation: "Pipeline steps." },
            { id: 172, topic: "Machine Learning", type: "single", question: "Real-time vs Batch?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Inference types." },
            { id: 173, topic: "Machine Learning", type: "single", question: "Pipeline parameter?", options: ["A. Variable", "B. Constant"], correctAnswer: "A", explanation: "Change at runtime." },
            { id: 178, topic: "Machine Learning", type: "single", question: "Detect data drift?", options: ["A. Monitor", "B. Explain"], correctAnswer: "A", explanation: "Monitoring." },
            { id: 179, topic: "Machine Learning", type: "single", question: "Compute Target?", options: ["A. Where code runs", "B. Data source"], correctAnswer: "A", explanation: "Execution env." },
            { id: 180, topic: "Computer Vision", type: "single", question: "Historian digitize?", options: ["A. OCR", "B. Detection"], correctAnswer: "A", explanation: "Text." },
            { id: 181, topic: "Computer Vision", type: "single", question: "Classification finds location?", options: ["A. True", "B. False"], correctAnswer: "B", explanation: "No, Detection does." },
            { id: 183, topic: "Computer Vision", type: "single", question: "Index images?", options: ["A. Computer Vision", "B. Face"], correctAnswer: "A", explanation: "Tagging." },
            { id: 184, topic: "Computer Vision", type: "single", question: "Thumbnail generation?", options: ["A. Computer Vision", "B. OCR"], correctAnswer: "A", explanation: "Smart crop." },
            { id: 185, topic: "Computer Vision", type: "single", question: "Match: Face API?", options: ["A. Detect faces", "B. Read text"], correctAnswer: "A", explanation: "Faces." },
            { id: 186, topic: "Computer Vision", type: "single", question: "Match: Moderate content?", options: ["A. Content Moderator", "B. LUIS"], correctAnswer: "A", explanation: "Safety." },
            { id: 189, topic: "Computer Vision", type: "single", question: "Detect landmarks?", options: ["A. Computer Vision", "B. Custom Vision"], correctAnswer: "A", explanation: "Domain specific." },
            { id: 191, topic: "Computer Vision", type: "single", question: "Extract printed text?", options: ["A. OCR", "B. Face"], correctAnswer: "A", explanation: "Read API." },
            { id: 192, topic: "Computer Vision", type: "single", question: "Video Indexer?", options: ["A. Insights from video", "B. Edit video"], correctAnswer: "A", explanation: "Metadata." },
            { id: 193, topic: "Computer Vision", type: "single", question: "Match: Custom Vision?", options: ["A. Specific domain", "B. General"], correctAnswer: "A", explanation: "User trained." },
            { id: 195, topic: "NLP", type: "single", question: "Classify emails?", options: ["A. NLP", "B. Vision"], correctAnswer: "A", explanation: "Text classification." },
            { id: 196, topic: "NLP", type: "multiple", question: "KB Bot services?", options: ["A. Language", "B. Bot Service"], correctAnswer: ["A","B"], explanation: "QA + Bot." },
            { id: 197, topic: "NLP", type: "single", question: "Text Analytics key phrase?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Feature." },
            { id: 198, topic: "NLP", type: "single", question: "Analyze social tone?", options: ["A. Sentiment", "B. Speech"], correctAnswer: "A", explanation: "Emotion." },
            { id: 199, topic: "NLP", type: "single", question: "Retrieve status/docs?", options: ["A. NER", "B. Sentiment"], correctAnswer: "A", explanation: "Entities." },
            { id: 200, topic: "NLP", type: "single", question: "Match: Translate?", options: ["A. Translator", "B. LUIS"], correctAnswer: "A", explanation: "Language." },
            { id: 201, topic: "NLP", type: "single", question: "Match: LUIS?", options: ["A. Intent", "B. Translation"], correctAnswer: "A", explanation: "Understanding." },
            { id: 202, topic: "NLP", type: "single", question: "Reviews in user lang?", options: ["A. Translation", "B. Speech"], correctAnswer: "A", explanation: "Text convert." },
            { id: 203, topic: "NLP", type: "single", question: "Match: Speech to Text?", options: ["A. Transcribe", "B. Speak"], correctAnswer: "A", explanation: "Input." },
            { id: 204, topic: "NLP", type: "single", question: "Match: Text to Speech?", options: ["A. Speak", "B. Listen"], correctAnswer: "A", explanation: "Output." },
            { id: 205, topic: "NLP", type: "single", question: "Extract cities?", options: ["A. Entity Recognition", "B. Sentiment"], correctAnswer: "A", explanation: "Locations." },
            { id: 206, topic: "NLP", type: "single", question: "Identify language?", options: ["A. Language Detection", "B. Key Phrase"], correctAnswer: "A", explanation: "Locale." },
            { id: 207, topic: "NLP", type: "single", question: "Main talking points?", options: ["A. Key Phrase", "B. Sentiment"], correctAnswer: "A", explanation: "Topics." },
            { id: 209, topic: "NLP", type: "single", question: "Phone number entity?", options: ["A. Regex", "B. List"], correctAnswer: "A", explanation: "Pattern." },
            { id: 210, topic: "NLP", type: "single", question: "Analyze sentiment?", options: ["A. True", "B. False"], correctAnswer: "A", explanation: "Yes." },
            { id: 212, topic: "Machine Learning", type: "single", question: "Predict vehicle price?", options: ["A. Regression", "B. Classification"], correctAnswer: "A", explanation: "Numeric." },
            { id: 213, topic: "Machine Learning", type: "single", question: "Predict stock?", options: ["A. Regression", "B. Classification"], correctAnswer: "A", explanation: "Numeric." },
            { id: 214, topic: "Computer Vision", type: "single", question: "Receipts to spreadsheet?", options: ["A. Form Recognizer", "B. Face"], correctAnswer: "A", explanation: "Structured data." },
            { id: 215, topic: "Machine Learning", type: "single", question: "Predict spam?", options: ["A. Classification", "B. Regression"], correctAnswer: "A", explanation: "Binary." },
            { id: 216, topic: "Machine Learning", type: "single", question: "Group documents?", options: ["A. Clustering", "B. Classification"], correctAnswer: "A", explanation: "Unsupervised." },
            { id: 217, topic: "Computer Vision", type: "single", question: "Security facial entry?", options: ["A. Facial Recognition", "B. OCR"], correctAnswer: "A", explanation: "Identity." },
            { id: 218, topic: "Computer Vision", type: "multiple", question: "Vision workloads?", options: ["A. Segmentation", "B. Description"], correctAnswer: ["A","B"], explanation: "Pixels & Captions." },
            { id: 219, topic: "Computer Vision", type: "single", question: "Product coordinates?", options: ["A. Object Detection", "B. Classification"], correctAnswer: "A", explanation: "Location." },
            { id: 220, topic: "Computer Vision", type: "single", question: "Detection identifies class?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Class + Box." },
            { id: 221, topic: "Computer Vision", type: "single", question: "Tag friends?", options: ["A. Face", "B. Form"], correctAnswer: "A", explanation: "People." },
            { id: 222, topic: "Computer Vision", type: "single", question: "Match: Analyze video?", options: ["A. Video Indexer", "B. LUIS"], correctAnswer: "A", explanation: "Video insights." },
            { id: 223, topic: "Computer Vision", type: "single", question: "Bird location + species?", options: ["A. Object Detection", "B. OCR"], correctAnswer: "A", explanation: "Where + What." },
            { id: 224, topic: "NLP", type: "single", question: "Read foreign + categorize?", options: ["A. Translate + Key Phrase", "B. Speech + Entity"], correctAnswer: "A", explanation: "Language + Topic." },
            { id: 225, topic: "NLP", type: "single", question: "Match: Conversation?", options: ["A. Bot", "B. Anomaly"], correctAnswer: "A", explanation: "Chat." },
            { id: 226, topic: "NLP", type: "single", question: "Script to audio?", options: ["A. Speech Synthesis", "B. Recognition"], correctAnswer: "A", explanation: "TTS." },
            { id: 227, topic: "NLP", type: "single", question: "LUIS needs utterances?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Training data." },
            { id: 228, topic: "NLP", type: "single", question: "Extract intent?", options: ["A. Language", "B. Speech"], correctAnswer: "A", explanation: "NLU." },
            { id: 229, topic: "NLP", type: "single", question: "Unknown utterances?", options: ["A. None intent", "B. New model"], correctAnswer: "A", explanation: "Fallback." },
            { id: 230, topic: "NLP", type: "single", question: "Match: Translate text?", options: ["A. Translator", "B. Speech"], correctAnswer: "A", explanation: "Text." },
            { id: 231, topic: "NLP", type: "single", question: "Match: Speech Translation?", options: ["A. Speech", "B. Translator"], correctAnswer: "A", explanation: "Audio." },
            { id: 233, topic: "NLP", type: "single", question: "Phone/Social order query?", options: ["A. Bot Service", "B. Translator"], correctAnswer: "A", explanation: "Channel." },
            { id: 234, topic: "NLP", type: "single", question: "Teams/Alexa bot?", options: ["A. Bot Service", "B. Search"], correctAnswer: "A", explanation: "Connector." },
            { id: 235, topic: "NLP", type: "single", question: "LUIS entities?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Key data." },
            { id: 236, topic: "Computer Vision", type: "single", question: "Identify sensitive docs?", options: ["A. Form Recognizer", "B. Custom Vision"], correctAnswer: "A", explanation: "Document analysis." },
            { id: 237, topic: "AI Fundamentals", type: "single", question: "Knowledge Mining?", options: ["A. Cognitive Search", "B. Bot"], correctAnswer: "A", explanation: "Search/Index." },
            { id: 238, topic: "NLP", type: "single", question: "Smart device stock?", options: ["A. NLP", "B. Vision"], correctAnswer: "A", explanation: "Voice query." },
            { id: 239, topic: "Machine Learning", type: "single", question: "Predict category?", options: ["A. Classification", "B. Regression"], correctAnswer: "A", explanation: "Type." },
            { id: 240, topic: "Computer Vision", type: "single", question: "Identify competitor products (custom)?", options: ["A. Custom Vision", "B. Form Recognizer"], correctAnswer: "A", explanation: "Custom object." },
            { id: 241, topic: "Computer Vision", type: "single", question: "Analyze live video?", options: ["A. Yes", "B. No"], correctAnswer: "A", explanation: "Real-time." },
            { id: 242, topic: "Machine Learning", type: "single", question: "Predict yield?", options: ["A. Regression", "B. Classification"], correctAnswer: "A", explanation: "Numeric." },
            { id: 243, topic: "Computer Vision", type: "single", question: "Read street signs?", options: ["A. OCR", "B. Object Detection"], correctAnswer: "A", explanation: "Text." },
            { id: 244, topic: "Computer Vision", type: "single", question: "Detect person in room?", options: ["A. Object Detection", "B. OCR"], correctAnswer: "A", explanation: "Location." },
            { id: 245, topic: "Computer Vision", type: "single", question: "Identify brands?", options: ["A. Computer Vision", "B. LUIS"], correctAnswer: "A", explanation: "Brand detection." },
            { id: 246, topic: "NLP", type: "single", question: "Determine intent?", options: ["A. Language", "B. Translator"], correctAnswer: "A", explanation: "Understanding." }
        ];

        function App() {
            const [appState, setAppState] = useState('setup');
            const [examQuestions, setExamQuestions] = useState([]);
            const [questionCount, setQuestionCount] = useState(10);
            const [currentQIndex, setCurrentQIndex] = useState(0);
            const [userAnswers, setUserAnswers] = useState({});
            const [showAnswer, setShowAnswer] = useState(false);
            const [selectedTopic, setSelectedTopic] = useState('All Topics');

            const filteredPool = useMemo(() => {
                if (selectedTopic === 'All Topics') return QUESTION_BANK;
                return QUESTION_BANK.filter(q => q.topic === selectedTopic);
            }, [selectedTopic]);

            const maxQuestions = filteredPool.length;

            useEffect(() => {
                if (questionCount > maxQuestions) setQuestionCount(maxQuestions > 0 ? maxQuestions : 1);
            }, [maxQuestions]);

            const startExam = () => {
                const shuffled = [...filteredPool].sort(() => 0.5 - Math.random());
                const count = Math.min(questionCount, shuffled.length);
                setExamQuestions(shuffled.slice(0, count));
                setCurrentQIndex(0);
                setUserAnswers({});
                setShowAnswer(false);
                setAppState('exam');
            };

            const handleOption = (opt) => {
                const q = examQuestions[currentQIndex];
                const letter = opt.charAt(0);
                if (q.type === 'single') {
                    setUserAnswers(prev => ({ ...prev, [q.id]: letter }));
                } else {
                    setUserAnswers(prev => {
                        const curr = prev[q.id] || [];
                        return curr.includes(letter) ? { ...prev, [q.id]: curr.filter(l => l !== letter) } : { ...prev, [q.id]: [...curr, letter] };
                    });
                }
            };

            const calculateScore = () => {
                let correct = 0;
                examQuestions.forEach(q => {
                    const ans = userAnswers[q.id];
                    if (!ans) return;
                    if (q.type === 'single') {
                        if (ans === q.correctAnswer) correct++;
                    } else {
                        if (ans.length === q.correctAnswer.length && ans.every(v => q.correctAnswer.includes(v))) correct++;
                    }
                });
                return { correct, percentage: Math.round((correct / examQuestions.length) * 100) };
            };

            if (appState === 'setup') {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4">
                        <div className="bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border-t-8 border-blue-600">
                            <div className="text-center mb-8">
                                <div className="inline-block p-4 bg-blue-50 rounded-full text-blue-600 mb-4"><Icons.Book/></div>
                                <h1 className="text-3xl font-bold text-slate-800">AI-900 Prep</h1>
                                <p className="text-slate-500">246 Questions with Explanations</p>
                            </div>
                            
                            <div className="space-y-6">
                                <div>
                                    <label className="block text-sm font-semibold text-slate-700 mb-2">Topic</label>
                                    <select value={selectedTopic} onChange={e => setSelectedTopic(e.target.value)} className="w-full p-3 border rounded-lg bg-slate-50">
                                        {['All Topics', ...new Set(QUESTION_BANK.map(q => q.topic))].map(t => <option key={t} value={t}>{t}</option>)}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-slate-700 mb-2">Count: {questionCount}</label>
                                    <input type="range" min="1" max={maxQuestions} value={questionCount} onChange={e => setQuestionCount(parseInt(e.target.value))} className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600" />
                                </div>
                                <button onClick={startExam} disabled={maxQuestions === 0} className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition shadow-lg disabled:opacity-50">Start Exam</button>
                            </div>
                        </div>
                    </div>
                );
            }

            if (appState === 'exam' || appState === 'review') {
                const q = examQuestions[currentQIndex];
                const ans = userAnswers[q.id];
                const isReview = appState === 'review';
                const isMultiple = q.type === 'multiple';

                return (
                    <div className="min-h-screen flex flex-col max-w-3xl mx-auto bg-white shadow-xl">
                        <header className="p-4 border-b bg-white sticky top-0 z-20 flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                {isReview && <button onClick={() => setAppState('results')} className="p-2 hover:bg-slate-100 rounded-full"><Icons.Left/></button>}
                                <span className="font-bold text-slate-700">{isReview ? 'Review' : 'Exam'}</span>
                            </div>
                            <span className="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-bold">{currentQIndex + 1}/{examQuestions.length}</span>
                        </header>

                        <main className="flex-1 p-6 overflow-y-auto pb-32">
                            <span className="px-2 py-1 bg-slate-100 text-slate-500 text-xs rounded uppercase font-bold tracking-wide">{q.topic}</span>
                            <h2 className="text-xl font-medium text-slate-800 mt-3 mb-6 leading-relaxed">{q.question}</h2>
                            
                            <div className="space-y-3">
                                {q.options.map(opt => {
                                    const val = opt.charAt(0);
                                    const isSelected = isMultiple ? ans?.includes(val) : ans === val;
                                    const isCorrect = isMultiple ? q.correctAnswer.includes(val) : q.correctAnswer === val;
                                    
                                    let style = "w-full p-4 text-left rounded-xl border-2 transition-all flex items-start gap-3 ";
                                    if (isReview) {
                                        if (isCorrect) style += "border-green-500 bg-green-50 text-green-800";
                                        else if (isSelected) style += "border-red-500 bg-red-50 text-red-800";
                                        else style += "border-slate-100 text-slate-400";
                                    } else {
                                        style += isSelected ? "border-blue-600 bg-blue-50 text-blue-800 shadow-sm" : "border-slate-200 hover:border-blue-300 hover:bg-slate-50";
                                    }

                                    return (
                                        <button key={opt} disabled={isReview} onClick={() => handleOption(opt)} className={style}>
                                            <div className="mt-0.5">{isReview ? (isCorrect ? <Icons.Check/> : (isSelected ? <Icons.X/> : <div className="w-5 h-5 border rounded-full"/>)) : (isSelected ? <div className="text-blue-600"><Icons.Check/></div> : <div className="w-5 h-5 border-2 border-slate-300 rounded-full"/>)}</div>
                                            <span className="font-medium">{opt.substring(3)}</span>
                                        </button>
                                    );
                                })}
                            </div>

                            {((showAnswer && !isReview) || isReview) && (
                                <div className={`mt-8 p-6 rounded-xl border-l-4 animate-fade-in ${isReview ? 'bg-slate-50 border-slate-300' : 'bg-green-50 border-green-500'}`}>
                                    <div className="flex items-center gap-2 font-bold text-lg mb-2">
                                        {isReview ? <span class="text-slate-700">Explanation</span> : <span class="text-green-700">Correct Answer</span>}
                                    </div>
                                    <p className="font-mono text-slate-800 mb-3">Answer: {Array.isArray(q.correctAnswer) ? q.correctAnswer.join(", ") : q.correctAnswer}</p>
                                    <div className="flex gap-3 text-slate-600 text-sm leading-relaxed">
                                        <div className="mt-1 text-yellow-600 flex-shrink-0"><Icons.Lightbulb/></div>
                                        <p>{q.explanation || "No additional explanation provided."}</p>
                                    </div>
                                </div>
                            )}
                        </main>

                        <footer className="p-4 border-t bg-white fixed bottom-0 w-full max-w-3xl flex justify-between items-center z-20">
                            <button onClick={() => setCurrentQIndex(i => Math.max(0, i-1))} disabled={currentQIndex === 0} className="flex items-center gap-1 px-4 py-2 text-slate-600 disabled:opacity-30 hover:bg-slate-100 rounded-lg"><Icons.Left/> Prev</button>
                            <div className="flex gap-2">
                                {!isReview && <button onClick={() => setShowAnswer(p => !p)} className="flex items-center gap-2 px-5 py-2.5 bg-yellow-100 text-yellow-800 rounded-lg font-bold hover:bg-yellow-200"><Icons.Eye/> {showAnswer ? 'Hide' : 'Ans'}</button>}
                                {currentQIndex === examQuestions.length - 1 
                                    ? <button onClick={() => setAppState('results')} className="px-8 py-2.5 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 shadow-lg">{isReview ? 'Done' : 'Finish'}</button>
                                    : <button onClick={() => setCurrentQIndex(i => Math.min(examQuestions.length-1, i+1))} className="flex items-center gap-1 px-6 py-2.5 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 shadow-lg">Next <Icons.Right/></button>
                                }
                            </div>
                        </footer>
                    </div>
                );
            }

            if (appState === 'results') {
                const score = calculateScore();
                const isPass = score.percentage >= 70;
                return (
                    <div className="min-h-screen bg-slate-50 p-4 flex items-center justify-center">
                        <div className="bg-white rounded-2xl shadow-xl p-8 max-w-2xl w-full text-center">
                            <div className={`w-24 h-24 mx-auto rounded-full flex items-center justify-center mb-6 ${isPass ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}`}>
                                {isPass ? <Icons.Check/> : <Icons.X/>}
                            </div>
                            <h2 className="text-4xl font-bold text-slate-800 mb-2">{isPass ? 'Passed!' : 'Needs Work'}</h2>
                            <div className={`text-6xl font-black mb-4 ${isPass ? 'text-green-500' : 'text-red-500'}`}>{score.percentage}%</div>
                            <p className="text-slate-500 mb-8 text-lg">You scored {score.correct} out of {examQuestions.length}</p>
                            
                            <div className="grid grid-cols-5 sm:grid-cols-8 gap-2 mb-8 max-h-64 overflow-y-auto">
                                {examQuestions.map((q, i) => {
                                    const ans = userAnswers[q.id];
                                    const correct = q.type === 'single' ? ans === q.correctAnswer : (ans && ans.length === q.correctAnswer.length && ans.every(v => q.correctAnswer.includes(v)));
                                    return <button key={i} onClick={() => { setCurrentQIndex(i); setAppState('review'); }} className={`h-10 rounded-md font-bold text-sm transition ${correct ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>{i+1}</button>
                                })}
                            </div>

                            <div className="flex justify-center gap-4">
                                <button onClick={startExam} className="flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 shadow-lg"><Icons.Refresh/> Retry</button>
                                <button onClick={() => setAppState('setup')} className="px-6 py-3 border-2 border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-50">Home</button>
                            </div>
                        </div>
                    </div>
                );
            }
            return null;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
